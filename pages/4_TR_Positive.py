from typing import Any
import numpy as np
import streamlit as st
import streamlit.components.v1 as components
from bertopic import BERTopic
from gensim.models import LdaMulticore
from openai import OpenAI
import json


st.set_page_config(
    page_title="TR_Positive",
    page_icon=":cityscape:",
    layout="wide", 
    # initial_sidebar_state="expanded",
    initial_sidebar_state="collapsed",        
)

testBModel = BERTopic.load("./models/trPosBERT")
r = testBModel.visualize_barchart()
p = testBModel.get_topic_info().head(50)
lda = LdaMulticore.load("./models/trPosLDAA/trPosLDA")
topics = lda.print_topics(-1)
TopicForOA = json.dumps(lda.print_topics())

# Set OpenAI API key from Streamlit secrets
client = OpenAI(api_key=st.secrets["OPENAI_API_KEY"])

response1 = client.chat.completions.create(
  model="gpt-4-1106-preview",
  messages=[
    {
      "role": "system",
      "content": "You will be provided with a list of topics broken down into tokens for each topic . These topics is the result of topic modelling on Airbnb listings' reviews. Your job is to summarise these output from BERTopic's topic model, and similar topics can integrate them together into one. \n Then output them into comprehensible points. \n For example: '1. Many reviews discuss the quality and condition of the room, host responsiveness, and the apartment's location. 2. Noise levels and sound disturbance are a common concern among guests. 3. The proximity to public transportation, such as the BTS station, is frequently mentioned.'"
    },
    {
      "role": "user",
      "content": p.to_json()
    }
  ],
  temperature=0.7,
  max_tokens=800,
  top_p=1
)

response2 = client.chat.completions.create(
  model="gpt-4-1106-preview",
  messages=[
    {
      "role": "system",
      "content": "You will be provided with a list of topics broken down into tokens for each topic . These topics is the result of topic modelling on Airbnb listings' reviews. Your job is to summarise these output from LDA's topic model, and similar topics can integrate them together into one. \n Then output them into comprehensible points."
    },
    {
      "role": "user",
      "content": TopicForOA
    }
  ],
  temperature=0.7,
  max_tokens=800,
  top_p=1
)

@st.cache_data(ttl=3600)
def generate_response(t):
    message = st.chat_message("assistant")
    message.write("Chat-GPT 4.0 says: ")
    st.info(t)


@st.cache_data(ttl=3600)
def trPosBERT() -> None:

    st.write("### using BERT :arrow_heading_down:")

    st.plotly_chart(r, use_container_width=False, sharing="streamlit", theme="streamlit")
    st.write("")
    st.write("")
    st.subheader("Topic Information :arrow_heading_down:")
    st.write("")
    st.dataframe(data=p, 
                #  width=None, height=None, 
                 use_container_width=True, hide_index=True, column_order=("Topic", "Count", "Name", "Representation"), 
                 column_config=None
                )
    generate_response(response1.choices[0].message.content)

@st.cache_data(ttl=3600)
def trPosLDA() -> None:

    st.write("### using LDA :arrow_heading_down:")
    string = """
    
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.4.0/pyLDAvis/js/ldavis.v1.0.0.css">


<div id="ldavis_el1791224036889359367321133059" style="background-color:white;"></div>
<script type="text/javascript">

var ldavis_el1791224036889359367321133059_data = {"mdsDat": {"x": [-0.18146926485618406, -0.05992083504370651, -0.09430706492986302, 0.2592679469056632, 0.07642921792409042], "y": [0.044770176195746886, -0.12134582176097733, -0.08362149466494061, -0.10542936927530235, 0.26562650950547323], "topics": [1, 2, 3, 4, 5], "cluster": [1, 1, 1, 1, 1], "Freq": [22.926688681160464, 22.4047154065625, 19.26587376557856, 18.812656619640748, 16.59006552705772]}, "tinfo": {"Term": ["walk", "house", "restaurant", "home", "host", "amazing", "location", "great", "minute", "view", "room", "recommend", "feel", "clean", "bed", "shop", "nice", "good", "floor", "make", "street", "distance", "bathroom", "love", "apartment", "check", "close", "cafe", "area", "kitchen", "walk", "restaurant", "shop", "distance", "cafe", "station", "bus", "metro", "public", "square", "attraction", "transport", "min", "tourist", "taksim", "shopping", "supermarket", "ferry", "grocery", "mall", "walkable", "walking", "sight", "blue", "subway", "train", "bakery", "touristic", "sultanahmet", "port", "minute", "market", "bar", "stop", "close", "access", "store", "main", "many", "area", "street", "apartment", "locate", "easy", "quiet", "great", "location", "lot", "recommend", "city", "clean", "need", "nice", "host", "good", "neighborhood", "home", "amazing", "love", "incredible", "island", "exceptional", "unique", "vibe", "outstanding", "generous", "memorable", "unforgettable", "spectacular", "fabulous", "energy", "breathtaking", "absolute", "delightful", "adorable", "dream", "culture", "hatice", "stunning", "rooftop", "feel", "gem", "chill", "memory", "sunset", "nature", "view", "awesome", "lovely", "fantastic", "cat", "enjoy", "flat", "wonderful", "make", "friend", "hope", "beautiful", "terrace", "experience", "perfect", "sure", "come", "time", "great", "host", "visit", "spend", "hospitality", "recommend", "family", "apartment", "next", "comfortable", "location", "helpful", "city", "need", "clean", "nice", "friendly", "go", "good", "pleased", "polite", "interest", "performance", "treatment", "cooperative", "tidy", "cleanliness", "caring", "attentive", "interested", "satisfied", "peace", "understanding", "house", "ratio", "term", "accommodation", "hosting", "ismail", "staff", "advise", "response", "environment", "courteous", "sincere", "hesitation", "respectful", "value", "employee", "owner", "photo", "communication", "clean", "friendly", "excellent", "good", "location", "nice", "helpful", "host", "recommend", "price", "central", "person", "great", "like", "respond", "apartment", "question", "comfortable", "kind", "responsive", "perfect", "room", "need", "beautiful", "help", "easy", "water", "leave", "arrive", "hot", "internet", "machine", "towel", "hour", "parking", "wifi", "washing", "arrival", "flight", "late", "tea", "free", "instruction", "key", "let", "fix", "arrange", "cold", "early", "tell", "order", "transfer", "send", "change", "bag", "sheet", "call", "airport", "check", "day", "take", "work", "issue", "ask", "help", "provide", "give", "get", "taxi", "time", "find", "problem", "go", "make", "need", "first", "come", "good", "thing", "night", "host", "room", "bed", "floor", "bathroom", "bedroom", "air", "large", "window", "living", "sleep", "noise", "elevator", "stair", "noisy", "conditioning", "light", "smell", "hear", "steep", "loud", "climb", "th", "conditioner", "summer", "sound", "neighbor", "ground", "sofa", "bother", "downside", "narrow", "bit", "kitchen", "room", "small", "little", "building", "shower", "apartment", "night", "big", "street", "people", "good", "comfortable", "nice", "clean", "area", "location", "view"], "Freq": [73561.0, 91000.0, 54042.0, 43296.0, 153113.0, 42018.0, 163272.0, 169524.0, 49371.0, 56969.0, 64542.0, 110954.0, 45933.0, 148472.0, 26344.0, 32096.0, 111985.0, 145189.0, 22781.0, 42149.0, 39973.0, 25244.0, 20387.0, 24280.0, 229769.0, 43505.0, 46951.0, 23044.0, 53030.0, 26316.0, 73560.21595305801, 54041.18837763059, 32095.59848397081, 25244.067168504745, 23043.770031950506, 21736.037409273817, 18248.680904298042, 15330.586136430104, 14089.767494895952, 12493.272038473204, 12242.824868190184, 12203.289599631242, 12163.890193816143, 10904.42755028809, 10358.036568327117, 10109.497795655303, 9528.770664786443, 8871.53780103959, 7936.247613821785, 5541.628048486567, 4023.2070656934056, 3824.0713832518813, 3551.970693218882, 3109.8032211543496, 2963.4997809007473, 2802.627628543811, 2791.728790323613, 2463.01697806461, 2415.5902168174475, 2291.8696132797127, 45321.92822555029, 8571.31036343218, 11541.826033233061, 9835.352055367583, 35227.070430443855, 10505.622213225748, 9485.050507757234, 11086.921231458231, 21623.82426165472, 33664.60780145437, 24885.691266431757, 75272.82587158732, 23404.431903678636, 20969.055884889225, 19156.259831169704, 39967.08459326038, 36583.726279299175, 18125.726700918534, 25963.360869800075, 14582.386846482279, 26458.368877999103, 21662.05698565204, 22054.908848875126, 20103.33690131565, 19075.184528680446, 12695.345752750354, 43295.513783642935, 42017.75199727512, 24280.015088397948, 5383.167212636961, 2508.451943234265, 2437.866402098186, 2300.1768538794054, 2108.709849053182, 1645.590172187754, 1651.4837507028124, 1485.712767500143, 1452.5107313666856, 1417.8969573934473, 1186.5353083888592, 1195.6842495748579, 1063.539277358219, 1005.699226942688, 978.7833850901334, 943.4554923449575, 806.8183550767951, 735.9470602934936, 484.7751042863531, 2896.039062420277, 2168.4920400769497, 41858.740392849715, 1622.2756078551326, 853.4529836434027, 755.7014516321708, 1560.9530584912472, 1141.797084408613, 46048.50272731426, 4712.694500055997, 15378.903703432314, 9126.160401566967, 5665.493938861658, 21441.119615199328, 22249.798866727357, 23163.191608744153, 27422.59002768813, 9112.763799716433, 5769.818769653982, 30663.087140666095, 9508.053482519013, 18140.49487879609, 28998.57383416172, 7958.605831724813, 21831.62419083559, 30502.093256001444, 64623.842579528144, 58020.11371259064, 12999.248836315523, 7189.1414558643655, 7631.970356273808, 38295.93439349434, 10652.977019629738, 48019.994668813066, 9993.50758340017, 20443.098636519808, 34051.09739761625, 20285.675635183336, 12327.946700012957, 20900.787691479793, 21061.5515451821, 18199.38434898781, 14265.663457762397, 11732.436678138425, 15231.447681242722, 8529.007758395102, 6399.069066252918, 3652.5370855896417, 1998.8925599536667, 1222.984724306436, 1366.1722527222846, 10464.621716277044, 8088.451273775485, 3957.667700565804, 10437.659273899208, 1667.98898307089, 6010.585540878535, 3208.0998545554007, 1970.870902474292, 70830.74766558157, 945.0223212092716, 5471.235468002664, 21613.123016068294, 631.6288161879293, 772.6619047380007, 5574.704670343346, 1993.8769283628856, 3168.666784748375, 2531.4210419797823, 626.6726752150238, 772.9114002581575, 1581.4058233907447, 1792.1675581581833, 5372.1574531940005, 491.8395130036413, 18061.640991929915, 12720.977224661077, 16673.65534671004, 78993.90256109441, 30909.25275024052, 17465.50550634595, 71432.21590010851, 78307.14751474463, 54748.87611139225, 32975.3405024001, 65835.8642782431, 46694.90384074021, 9928.895509825641, 9756.444073538736, 11153.540661251924, 58100.9860745387, 12475.507485228578, 9267.380415997217, 45939.939523618734, 10130.414211355477, 18518.285996449926, 10554.19384390469, 13304.684232374962, 15474.876749124767, 15380.579888241451, 16575.521880288958, 13518.492019532157, 13487.629249448457, 12239.565537472385, 16115.678030183331, 12909.915644911658, 11312.049897070608, 10433.876495444363, 9189.284600961537, 8737.75845629967, 8489.649496821525, 7996.875240077007, 7739.056877261316, 7557.945393443303, 7450.91834230096, 6425.849705333942, 5658.079608654131, 5462.783192123021, 5326.586772949886, 5164.026860715801, 5054.879037362481, 4712.076496795963, 4464.297125541925, 4404.578785675004, 4213.579006975977, 3920.207894369158, 3635.4352426886335, 3487.2696181261263, 3347.6755559426165, 3257.8875569076636, 3176.6892686691617, 3084.716005725495, 3082.824681363749, 3055.8214565875687, 5234.760965898028, 11896.469124850217, 28613.427558942858, 21350.252002565812, 15514.872077758875, 14035.025488617008, 8997.622405025462, 8429.557494002394, 24767.99827421696, 11452.39679449955, 11925.48585172707, 17387.511347421412, 8840.538777757927, 23365.74524389692, 12970.751732846376, 13860.826607375426, 14689.275937810537, 14726.3713030852, 18998.53599423168, 8675.451698393463, 11770.097805175892, 14055.919502367951, 8921.001731010685, 9063.418196187076, 9154.201765550899, 8699.807522773635, 26343.640962631784, 22780.87989202284, 20386.55174409823, 15027.195762966636, 14990.017769815704, 13882.667551394143, 13322.071153224124, 11234.060769666741, 11119.018418619942, 10686.643914053671, 9841.483027196551, 9588.252675163623, 8413.15338918492, 7779.070952833936, 7190.585343978637, 6035.789801200034, 4989.812079220804, 4047.283592150315, 3978.2621825976935, 3746.762814538771, 3664.3909593489448, 3562.5844517066034, 3426.231515399938, 3281.76668439433, 3259.7924921907297, 2775.0922085826014, 2716.376712035143, 2476.60340572125, 2380.0754597717455, 2362.137781122537, 13811.441549264448, 20050.118456344735, 40461.339688549386, 19370.78385656962, 13348.466819599347, 13458.081425996967, 7735.176868736515, 54565.48277081704, 13807.723978582237, 9587.336428883858, 15087.342215572351, 10320.61295639455, 25395.0225529239, 15995.444592033344, 16981.621668642827, 16960.18504950605, 11944.89183544316, 14330.630245942766, 10920.445043665062], "Total": [73561.0, 91000.0, 54042.0, 43296.0, 153113.0, 42018.0, 163272.0, 169524.0, 49371.0, 56969.0, 64542.0, 110954.0, 45933.0, 148472.0, 26344.0, 32096.0, 111985.0, 145189.0, 22781.0, 42149.0, 39973.0, 25244.0, 20387.0, 24280.0, 229769.0, 43505.0, 46951.0, 23044.0, 53030.0, 26316.0, 73561.06023018193, 54042.03237424815, 32096.441685388716, 25244.908476818542, 23044.613915558082, 21736.8797794497, 18249.524365148274, 15331.42982066258, 14090.610235938051, 12494.116186061794, 12243.66661265502, 12204.13230736886, 12164.732308341616, 10905.272204052526, 10358.881317065981, 10110.341514741687, 9529.615423414256, 8872.38039679713, 7937.092040106044, 5542.474248112217, 4024.0533138545998, 3824.914011579769, 3552.812989178696, 3110.6429909189746, 2964.34342983654, 2803.472300014941, 2792.5721113650507, 2463.860173478398, 2416.428368290009, 2292.7159138591483, 49371.91981676823, 9202.549275584106, 12791.354313274678, 11091.71639443722, 46951.58011165378, 12266.123833287442, 11010.822446152184, 13285.734278045933, 30616.326065894395, 53030.17296285888, 39973.65842866626, 229769.64774108707, 43140.07730344872, 40524.37893124984, 37561.042765846425, 169524.41115725972, 163272.82954722227, 40102.64345984012, 110954.64917780276, 27813.171207435225, 148472.86387870228, 85901.92115589752, 111985.01942344468, 153113.73808658594, 145189.79016532353, 22402.74591306104, 43296.37023431736, 42018.60132486648, 24280.86773049698, 5384.01765880433, 2509.3090328450553, 2438.718042369476, 2301.0316279943254, 2109.5618385547095, 1646.439196619869, 1652.3365850936598, 1486.5607700808373, 1453.3590582074503, 1418.7455191880736, 1187.3835938506284, 1196.5406482613514, 1064.3863530980636, 1006.5521231398386, 979.6357658970775, 944.3050095913767, 807.6671718065164, 736.8000423424334, 485.6234429788779, 3031.890737927577, 2358.648251376204, 45933.071059767884, 1795.5856884739126, 956.8171048800494, 851.0614997897422, 1769.4785488366588, 1296.5914106320633, 56969.58044370012, 5512.757584797522, 18743.48625317769, 11127.240487029578, 6920.297373950216, 29563.048930819547, 31792.069501423775, 34492.8611912653, 42149.58935531181, 12485.84673992508, 7420.439255560164, 51435.37597846921, 13313.030687802426, 30049.820812258848, 54900.968511614905, 11369.449320913496, 42228.64304669081, 64241.46099641369, 169524.41115725972, 153113.73808658594, 23046.686396932782, 10704.006485936547, 11635.740589443214, 110954.64917780276, 19889.09654320915, 229769.64774108707, 18289.824573101432, 66220.41013893284, 163272.82954722227, 67808.52603280764, 27813.171207435225, 85901.92115589752, 148472.86387870228, 111985.01942344468, 54893.48671433183, 37767.47829703229, 145189.79016532353, 8529.90963969594, 6399.975245699915, 3653.440557855355, 1999.7929662520814, 1223.8927028051523, 1468.8545603694715, 11414.00466089524, 8900.6119525614, 4371.179388829594, 12161.32757176845, 1992.5344090166582, 7190.179535997678, 3871.131719745035, 2401.5515512542343, 91000.15692476773, 1234.8189309965837, 7260.198183648018, 28982.4715328413, 858.8006082902303, 1063.2731871636154, 7674.297088059472, 2753.7888991371133, 4379.560147891669, 3535.274851121364, 883.3799736799073, 1089.5378860820822, 2235.686519958462, 2541.728259479344, 7797.086985451198, 725.6683989113392, 26745.83204606158, 19510.816656003808, 26127.57348685232, 148472.86387870228, 54893.48671433183, 30795.290084862285, 145189.79016532353, 163272.82954722227, 111985.01942344468, 67808.52603280764, 153113.73808658594, 110954.64917780276, 17337.755004580627, 17055.98151717231, 20369.437671705313, 169524.41115725972, 25218.869416952493, 17864.695980683337, 229769.64774108707, 20676.37217260788, 66220.41013893284, 24603.40537404441, 39137.07884368139, 54900.968511614905, 64542.185609725, 85901.92115589752, 51435.37597846921, 51119.94305371584, 40524.37893124984, 16116.526481825713, 12910.76569527012, 11312.898109282605, 10434.730998714324, 9190.137910079613, 8738.6063772468, 8490.499834063216, 7997.724770329866, 7739.915395224688, 7558.797552351078, 7451.765659112423, 6426.698103327745, 5658.926618163291, 5463.630691584784, 5327.434960740716, 5164.877734712807, 5055.73107272502, 4712.924600242836, 4465.146497894794, 4405.427703306449, 4214.424614276369, 3921.0577547371104, 3636.281981932021, 3488.116940354602, 3348.5260863629537, 3258.731809673885, 3177.5361140248024, 3085.564480083969, 3083.6733354828175, 3056.6757295299026, 5548.679739894667, 15198.783377743346, 43505.58679892411, 36117.09423601541, 25073.33688642938, 22300.70569125469, 12493.214136795406, 11502.051369689381, 51119.94305371584, 18670.723682130956, 20042.738104893357, 37652.04996838734, 13034.201772691888, 64241.46099641369, 26541.470253426112, 30081.72462289069, 37767.47829703229, 42149.58935531181, 85901.92115589752, 15159.191059346394, 42228.64304669081, 145189.79016532353, 23233.715581779616, 30182.602868443613, 153113.73808658594, 64542.185609725, 26344.49860418535, 22781.732947798275, 20387.40764674432, 15028.04920799882, 14990.873296205236, 13883.527632520296, 13322.924450901755, 11234.914542175291, 11119.873734467874, 10687.498313173874, 9842.337196441218, 9589.106101570138, 8414.006193427776, 7779.92469535582, 7191.440033887395, 6036.646979687561, 4990.663547510682, 4048.1363706428265, 3979.1139365637177, 3747.613964740302, 3665.242362365716, 3563.4385941316796, 3427.090069812937, 3282.6214069622947, 3260.650808169982, 2775.9462869094223, 2717.228457414021, 2477.4573665779517, 2380.9289365769923, 2362.9886710404758, 15337.92686801289, 26316.43873233476, 64542.185609725, 28559.059495879494, 19808.76035346916, 20746.239274311385, 11518.68644909694, 229769.64774108707, 30182.602868443613, 17909.1291750689, 39973.65842866626, 23900.611360110597, 145189.79016532353, 66220.41013893284, 111985.01942344468, 148472.86387870228, 53030.17296285888, 163272.82954722227, 56969.58044370012], "Category": ["Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5"], "logprob": [30.0, 29.0, 28.0, 27.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 13.0, 12.0, 11.0, 10.0, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, -3.1381, -3.4465, -3.9675, -4.2076, -4.2988, -4.3572, -4.5321, -4.7064, -4.7908, -4.911, -4.9313, -4.9345, -4.9377, -5.047, -5.0984, -5.1227, -5.1819, -5.2534, -5.3648, -5.7239, -6.0441, -6.0949, -6.1687, -6.3016, -6.3498, -6.4056, -6.4095, -6.5348, -6.5543, -6.6068, -3.6224, -5.2878, -4.9902, -5.1502, -3.8744, -5.0843, -5.1865, -5.0304, -4.3624, -3.9198, -4.2219, -3.1151, -4.2833, -4.3932, -4.4836, -3.7481, -3.8366, -4.5389, -4.1795, -4.7564, -4.1606, -4.3606, -4.3427, -4.4353, -4.4878, -4.895, -3.6451, -3.6751, -4.2235, -5.7299, -6.4935, -6.522, -6.5802, -6.6671, -6.9151, -6.9115, -7.0173, -7.0399, -7.064, -7.2421, -7.2345, -7.3516, -7.4075, -7.4346, -7.4714, -7.6278, -7.7198, -8.1372, -6.3498, -6.6391, -3.6789, -6.9293, -7.5716, -7.6933, -6.9679, -7.2806, -3.5835, -5.8629, -4.6802, -5.202, -5.6788, -4.3479, -4.3108, -4.2706, -4.1018, -5.2035, -5.6605, -3.9901, -5.161, -4.515, -4.0459, -5.3389, -4.3298, -3.9954, -3.2446, -3.3524, -4.8483, -5.4406, -5.3808, -3.7678, -5.0473, -3.5416, -5.1112, -4.3955, -3.8853, -4.4033, -4.9013, -4.3734, -4.3657, -4.5118, -4.7553, -4.9508, -4.6898, -5.1188, -5.4061, -5.9668, -6.5696, -7.0609, -6.9502, -4.9142, -5.1718, -5.8866, -4.9168, -6.7506, -5.4687, -6.0966, -6.5838, -3.0019, -7.3188, -5.5627, -4.1889, -7.7217, -7.5202, -5.544, -6.5722, -6.1089, -6.3335, -7.7296, -7.5198, -6.8039, -6.6788, -5.581, -7.9718, -4.3684, -4.719, -4.4484, -2.8929, -3.8312, -4.402, -2.9935, -2.9016, -3.2595, -3.7665, -3.0751, -3.4186, -4.9668, -4.9843, -4.8505, -3.2001, -4.7385, -5.0357, -3.4349, -4.9467, -4.3435, -4.9057, -4.6741, -4.523, -4.5291, -4.4543, -4.6582, -4.6605, -4.7576, -4.4586, -4.6804, -4.8126, -4.8934, -5.0204, -5.0708, -5.0996, -5.1594, -5.1922, -5.2158, -5.2301, -5.3781, -5.5053, -5.5405, -5.5657, -5.5967, -5.6181, -5.6883, -5.7423, -5.7558, -5.8001, -5.8723, -5.9477, -5.9893, -6.0302, -6.0574, -6.0826, -6.112, -6.1126, -6.1214, -5.5831, -4.7622, -3.8846, -4.1774, -4.4966, -4.5969, -5.0415, -5.1067, -4.0289, -4.8002, -4.7598, -4.3827, -5.0591, -4.0872, -4.6757, -4.6094, -4.5513, -4.5488, -4.2941, -5.0779, -4.7729, -4.5954, -5.05, -5.0342, -5.0242, -5.0751, -3.8415, -3.9868, -4.0978, -4.4028, -4.4053, -4.4821, -4.5233, -4.6938, -4.704, -4.7437, -4.8261, -4.8522, -4.9829, -5.0613, -5.1399, -5.315, -5.5053, -5.7147, -5.7319, -5.7918, -5.814, -5.8422, -5.8812, -5.9243, -5.931, -6.092, -6.1134, -6.2058, -6.2456, -6.2531, -4.4872, -4.1145, -3.4124, -4.1489, -4.5213, -4.5131, -5.0669, -3.1133, -4.4875, -4.8523, -4.3988, -4.7786, -3.8782, -4.3404, -4.2806, -4.2818, -4.6324, -4.4503, -4.7221], "loglift": [30.0, 29.0, 28.0, 27.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 13.0, 12.0, 11.0, 10.0, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 1.4729, 1.4729, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4728, 1.4727, 1.4727, 1.4726, 1.4726, 1.4726, 1.4726, 1.4726, 1.4726, 1.4725, 1.4725, 1.4725, 1.3873, 1.4018, 1.3701, 1.3527, 1.1856, 1.3179, 1.3237, 1.2919, 1.1251, 1.0185, 0.9989, 0.3569, 0.8613, 0.814, 0.7995, 0.0279, -0.023, 0.6788, 0.0204, 0.8272, -0.252, 0.0952, -0.152, -0.5574, -0.5568, 0.9049, 1.4959, 1.4959, 1.4959, 1.4957, 1.4956, 1.4955, 1.4955, 1.4955, 1.4954, 1.4954, 1.4953, 1.4953, 1.4953, 1.4952, 1.4952, 1.4951, 1.4951, 1.495, 1.495, 1.4948, 1.4947, 1.4942, 1.4501, 1.4118, 1.403, 1.3944, 1.3816, 1.3771, 1.3705, 1.3688, 1.2831, 1.3391, 1.298, 1.2976, 1.2958, 1.1747, 1.139, 1.0977, 1.066, 1.181, 1.2443, 0.9786, 1.1593, 0.9912, 0.8576, 1.1392, 0.8362, 0.751, 0.5315, 0.5255, 0.9233, 1.0979, 1.0742, 0.4321, 0.8716, -0.0696, 0.8915, 0.3206, -0.0717, 0.2891, 0.6823, 0.0825, -0.4571, -0.3211, 0.1484, 0.3268, -0.7588, 1.6467, 1.6467, 1.6466, 1.6464, 1.6461, 1.5744, 1.56, 1.5512, 1.5475, 1.494, 1.469, 1.4676, 1.459, 1.4492, 1.3963, 1.3794, 1.3639, 1.3534, 1.3396, 1.3276, 1.3272, 1.3239, 1.3232, 1.3128, 1.3035, 1.3035, 1.3006, 1.2974, 1.2743, 1.2579, 1.2542, 1.2191, 1.1977, 1.0158, 1.0725, 1.0797, 0.9375, 0.9121, 0.9312, 0.9259, 0.8028, 0.7813, 1.0894, 1.0883, 1.0446, 0.576, 0.943, 0.9905, 0.0371, 0.9334, 0.3726, 0.8005, 0.5679, 0.3805, 0.2126, 0.0016, 0.3106, 0.3144, 0.4496, 1.6706, 1.6706, 1.6706, 1.6706, 1.6705, 1.6705, 1.6705, 1.6705, 1.6705, 1.6705, 1.6705, 1.6705, 1.6705, 1.6705, 1.6705, 1.6705, 1.6705, 1.6705, 1.6705, 1.6704, 1.6704, 1.6704, 1.6704, 1.6704, 1.6704, 1.6704, 1.6704, 1.6704, 1.6704, 1.6704, 1.6124, 1.4257, 1.2516, 1.1449, 1.1906, 1.2076, 1.3424, 1.3599, 0.946, 1.1819, 1.1515, 0.898, 1.2824, 0.6593, 0.9546, 0.8958, 0.7263, 0.6191, 0.1618, 1.1125, 0.3931, -0.6644, 0.7134, 0.4676, -1.1463, -0.3334, 1.7963, 1.7963, 1.7963, 1.7963, 1.7963, 1.7963, 1.7963, 1.7963, 1.7963, 1.7963, 1.7963, 1.7963, 1.7963, 1.7963, 1.7962, 1.7962, 1.7962, 1.7962, 1.7962, 1.7961, 1.7961, 1.7961, 1.7961, 1.7961, 1.7961, 1.7961, 1.7961, 1.796, 1.796, 1.796, 1.6915, 1.5244, 1.3294, 1.4082, 1.4016, 1.3636, 1.3982, 0.3587, 1.0143, 1.1715, 0.822, 0.9566, 0.0529, 0.3757, -0.0899, -0.3732, 0.3058, -0.6367, 0.1445]}, "token.table": {"Topic": [2, 1, 4, 5, 1, 3, 4, 5, 2, 3, 4, 5, 1, 4, 2, 1, 2, 3, 4, 5, 1, 2, 5, 4, 4, 4, 2, 3, 4, 2, 3, 1, 1, 2, 4, 1, 1, 5, 5, 2, 3, 5, 5, 5, 1, 2, 4, 5, 4, 5, 1, 5, 2, 1, 4, 5, 1, 1, 4, 5, 2, 3, 2, 5, 1, 2, 3, 5, 4, 1, 3, 4, 2, 5, 1, 2, 5, 1, 2, 3, 4, 5, 3, 4, 5, 1, 3, 5, 4, 2, 3, 4, 5, 1, 2, 3, 5, 1, 2, 3, 4, 5, 5, 5, 3, 4, 3, 4, 2, 1, 2, 4, 5, 2, 1, 5, 2, 4, 1, 2, 3, 4, 5, 3, 4, 2, 1, 2, 2, 3, 1, 3, 5, 2, 2, 3, 4, 2, 1, 2, 3, 4, 5, 1, 2, 2, 4, 1, 1, 2, 3, 4, 5, 2, 4, 5, 4, 1, 2, 4, 5, 4, 2, 4, 1, 2, 3, 4, 1, 2, 2, 1, 2, 4, 5, 1, 2, 4, 1, 2, 3, 4, 5, 1, 2, 3, 4, 5, 1, 2, 3, 5, 1, 5, 2, 5, 1, 2, 3, 4, 1, 2, 3, 4, 2, 3, 2, 2, 4, 2, 3, 1, 2, 3, 4, 2, 3, 4, 4, 2, 3, 4, 5, 2, 4, 3, 2, 3, 4, 4, 2, 1, 3, 4, 5, 4, 1, 2, 3, 4, 4, 5, 5, 4, 4, 4, 5, 1, 2, 3, 4, 5, 1, 4, 5, 5, 1, 2, 3, 5, 1, 2, 3, 5, 1, 2, 4, 5, 5, 2, 1, 2, 4, 1, 5, 2, 4, 1, 1, 2, 4, 5, 1, 4, 2, 2, 4, 1, 1, 1, 4, 5, 2, 4, 1, 2, 3, 4, 5, 5, 1, 2, 5, 1, 2, 4, 1, 2, 3, 5, 1, 2, 4, 5, 5, 5, 4, 2, 3, 4, 5, 4, 2, 3, 1, 2, 3, 4, 5, 1, 2, 3, 3, 2, 3, 4, 5, 3, 4, 5, 3, 3, 1, 3, 4, 5, 3, 4, 5, 1, 2, 3, 4, 1, 1, 2, 3, 4, 1, 2, 3, 5, 3, 5, 1, 2, 3, 2, 3, 1, 3, 4, 1, 3, 4, 1, 2, 3, 4, 5, 1, 2, 5, 3, 4, 5, 3, 4, 4, 4, 1, 1, 4, 5, 1, 2, 3, 5, 1, 4, 5, 5, 5, 5, 2, 2, 4, 5, 1, 3, 4, 5, 1, 5, 1, 4, 1, 4, 1, 5, 2, 5, 1, 1, 5, 2, 5, 1, 2, 4, 1, 2, 4, 5, 1, 1, 4, 4, 4, 3, 4, 2, 5, 5, 1, 2, 4, 5, 1, 3, 1, 2, 3, 4, 1, 1, 4, 1, 4, 1, 3, 3, 4, 2, 2, 1, 3, 5, 2, 2, 5, 1, 2, 3, 4, 1, 1, 1, 4, 4, 4, 5, 1, 2, 3, 5, 4, 5], "Freq": [0.9994514708904331, 0.8565052939942714, 0.019484557896880913, 0.12400005255713753, 0.10344183368222533, 0.7457266015256625, 0.035780247341049926, 0.11506955147772564, 0.9986180211074582, 0.7240932667804749, 0.27562025550971936, 0.999941744807792, 0.21725423133771038, 0.7826942265273782, 0.9999856890794191, 0.32760201680258655, 0.208991920700121, 0.1999393760300616, 0.025986896261982972, 0.23747697111624533, 0.634827271326801, 0.13992034318267826, 0.22524912389718216, 0.9998992473907516, 0.9998913744948773, 0.9999206119180134, 0.16379686887547593, 0.10328592368580966, 0.7329127413058716, 0.14167861114109012, 0.8582944533318042, 0.9999455544914682, 0.1449365381498716, 0.8549260379228345, 0.9997816450027084, 0.9997951310325265, 0.9023282224323881, 0.0976440781336036, 0.9999800049740809, 0.5961461234935951, 0.26281522673536245, 0.14101189817366355, 0.9999810736885586, 0.9999301833535212, 0.18052245692105584, 0.20598433145121403, 0.0781165843589722, 0.5353135770189181, 0.0994919335012908, 0.9004476366882879, 0.9997932932448849, 0.9998153887190465, 0.9996370179898125, 0.26645793133432794, 0.0848346525232303, 0.648695882760019, 0.9999712669142613, 0.9999733596943593, 0.9434676797726621, 0.05640981542862335, 0.0944825099275056, 0.9054764510728018, 0.8186064404290662, 0.18120608584255055, 0.21634638829110087, 0.11972339427924877, 0.5719987436769594, 0.09187392695180353, 0.9998170577579524, 0.13531595441313723, 0.20696192518020853, 0.657685646954832, 0.891497440471589, 0.10764857721989879, 0.5242839765104467, 0.4432432356618287, 0.03243067801484178, 0.17820091368086874, 0.14185757215006642, 0.5320433507939581, 0.03366945224471475, 0.11422962793966036, 0.9087015637921898, 0.09111733039508729, 0.9998361718293083, 0.750283588246189, 0.15707671568159776, 0.09262734054227371, 0.9997302373993772, 0.5169950636552797, 0.19664378016642736, 0.27872077222529507, 0.007625156215509347, 0.17008351317018142, 0.3087114676141365, 0.2796418802171197, 0.24154184437157525, 0.1473921794512554, 0.1238538282794761, 0.6381763698182894, 0.059094657250775985, 0.031499289454267256, 0.9998769182855004, 0.9998811434053633, 0.9299763481391924, 0.06944186494157951, 0.7097738444172536, 0.2897960194111912, 0.9989141662643098, 0.05543081586014294, 0.23880658681005637, 0.5911328264805453, 0.11459947394861719, 0.9993510180832411, 0.9999640134635712, 0.9996098427959266, 0.999173952056236, 0.9996474470521288, 0.5174416129997746, 0.08617035207187815, 0.30204040932410897, 0.09436295140975431, 0.9998641383225824, 0.6779956254648918, 0.3210832941734142, 0.9995481572129313, 0.2747010302964333, 0.7252634885587768, 0.2837120286932869, 0.7159273625351038, 0.26286487244291856, 0.5671646525124171, 0.16996105526451338, 0.9997055656467863, 0.6036641653649986, 0.25963549163052474, 0.13667302795777558, 0.999676941931306, 0.1386186644531794, 0.5356201060644615, 0.08547396792542801, 0.1071441327347571, 0.13313827474501963, 0.17973908286886509, 0.8201494351306314, 0.9113041874673103, 0.08869426550423619, 0.9999571257340062, 0.22549617420788604, 0.12715949673377033, 0.10055961386146163, 0.48870691322481036, 0.05809776117436262, 0.3658506564293624, 0.5722600873647167, 0.06187665267413306, 0.9999029144647799, 0.30013774345745786, 0.6998600704179876, 0.999836255490517, 0.999967827390482, 0.9998300570201483, 0.7298663991173322, 0.27006578490328587, 0.14063599275766953, 0.2598851130415691, 0.5630722668583947, 0.03639776081992535, 0.09634739300413703, 0.9033264245821402, 0.9991910939298217, 0.3027458002836658, 0.10153497626848447, 0.46180752481203446, 0.13393693050535369, 0.047847753883780174, 0.3571368324297169, 0.5949785871366826, 0.17194687844727743, 0.31063763134331057, 0.06950424328982188, 0.3889325065463594, 0.0589660761167365, 0.13137976147138056, 0.10490407061444809, 0.4919905175058273, 0.09681121505854391, 0.17490899305718005, 0.23575955655686967, 0.38120763587287376, 0.3427294016441235, 0.04030098056888267, 0.9998624130726309, 0.9996591119526035, 0.9987162008179555, 0.9998670422270776, 0.041353723688202275, 0.21028974912401818, 0.2638500591799774, 0.4845075819817379, 0.18419512605180346, 0.29916591890207245, 0.48629577914797595, 0.030350165685717495, 0.29252759461650774, 0.7071653319399064, 0.9999914488370422, 0.7775820003750473, 0.22235880426669466, 0.6559101194576564, 0.3440262327291665, 0.1312945543046682, 0.3789339919791498, 0.42998101165010866, 0.05978562155424228, 0.2631577083415661, 0.7359100516454415, 0.999929945610058, 0.9999093779355155, 0.11770309373043249, 0.778361295119061, 0.05610979335146935, 0.04782409335401383, 0.9998109852402387, 0.9998553972285109, 0.999879412885367, 0.0657454141856703, 0.8371248157381532, 0.09686156441094938, 0.9998761813924071, 0.9994783293616206, 0.27274270008971374, 0.7270003695494783, 0.7202309911185152, 0.2797518686329418, 0.9998038160332995, 0.05356982011077362, 0.3580805122730771, 0.42896500868672593, 0.15936818259054883, 0.2381021255851395, 0.761881202997454, 0.9999619957885156, 0.9998845654802849, 0.9999406932719412, 0.999743233980042, 0.9999388114361907, 0.05242106528024338, 0.11253478310539389, 0.4947089337642333, 0.14683449677211893, 0.19354555191593642, 0.14251270395654017, 0.18360563382569484, 0.6738432775104137, 0.9999185982081255, 0.542511777050734, 0.12709759329897344, 0.159619556348118, 0.170746101083392, 0.22406667478877165, 0.20855276468490225, 0.4796082741822748, 0.08777333031920749, 0.45199015416906047, 0.25172904150593983, 0.12415640392848683, 0.17213329108623107, 0.9997200541172039, 0.9999642627888504, 0.1794756831552445, 0.82049837432952, 0.9999306093877418, 0.8345041205829895, 0.16544061126016152, 0.6506113207611612, 0.34937469677018784, 0.9999144338627504, 0.7062898387435337, 0.11350153485172862, 0.1382922298020774, 0.04190574653662383, 0.9313723559992543, 0.06856795667197871, 0.999622773523879, 0.8883024319473651, 0.11162530560185144, 0.9999719647373005, 0.9999398007023045, 0.9179711902676964, 0.08201017936970792, 0.9995816014471028, 0.880770912590958, 0.11877296019177543, 0.2521713101234036, 0.24331236972067485, 0.19296425245155288, 0.2211708393054448, 0.09039378742074734, 0.9998004054379722, 0.5666716057605545, 0.32571900017603517, 0.10757609845474095, 0.09469746377705701, 0.5464240490692308, 0.35888807865623684, 0.19694598539653121, 0.1625128083532746, 0.48889574946609327, 0.15164528333728827, 0.1330899133354677, 0.10913571683520804, 0.3002723138061598, 0.4574820819855958, 0.9999533741985943, 0.9998804144655179, 0.999842890170366, 0.9997332445554195, 0.675320175827534, 0.16974607453532303, 0.15494002926748426, 0.9998817305903301, 0.17100942254778181, 0.8286982289022419, 0.07639971934138635, 0.20355127853003538, 0.1605816663922458, 0.1276536383957118, 0.4318299580079127, 0.18992378973777216, 0.5282056179731136, 0.2818711658379231, 0.9996034758270165, 0.2547934844175547, 0.5475850722916002, 0.1953907645437125, 0.002209192061423885, 0.6519973112496823, 0.09753564053990608, 0.2504764452540836, 0.9998933588121841, 0.9998476172699933, 0.9996877441924572, 0.5726808342473846, 0.17280207265637668, 0.25453122384265364, 0.2851897657979293, 0.46077810277714165, 0.2540080429492922, 0.09362250921601634, 0.18869113270482013, 0.10428090700433856, 0.6133666908133977, 0.9999566920149069, 0.2570567000646916, 0.00024182191915775317, 0.4899312082136079, 0.2527522699036836, 0.5099964907635153, 0.11959199397106446, 0.15606595473249774, 0.2143177986346992, 0.7652943895485309, 0.234042411195265, 0.23399650390850027, 0.3451500255625285, 0.420847619689844, 0.29468138350612966, 0.705032095117469, 0.24159381187716747, 0.5187325891255122, 0.23963464055749628, 0.0052516689401040095, 0.7235886465734611, 0.271260117427981, 0.3188025363322278, 0.2323372175097337, 0.33995894412922106, 0.048189595537595706, 0.060709691939197986, 0.9999808968278432, 0.9191705455593193, 0.08055461423259717, 0.23830925238581388, 0.1347955591805852, 0.6268923126443284, 0.8360013779775445, 0.16397365240983613, 0.9998312799585704, 0.9997789331974686, 0.9999862388051285, 0.9998673126184975, 0.3284228645963868, 0.6715175410132308, 0.9997711702864259, 0.29003121785541436, 0.7094750993741623, 0.9999214258642914, 0.18719103830332096, 0.13452823964858943, 0.6782786387904284, 0.9998928246608195, 0.9995479005783746, 0.9998106979498225, 0.9994745222606939, 0.671617679739382, 0.2414049359363699, 0.08688335542601548, 0.9999106630637036, 0.7264508965484548, 0.27351039136416266, 0.9998846501896609, 0.99995952595503, 0.9997192854837926, 0.8866977526519254, 0.11323765910836993, 0.8614252065534492, 0.13850009910321667, 0.6225599802032014, 0.3774235482329703, 0.9551795398733716, 0.044526670539677196, 0.9995468035778114, 0.999822726675605, 0.9996819255430317, 0.8821807989852588, 0.11754875476549254, 0.9999354199107822, 0.7000339044882186, 0.2999265754874765, 0.25082421332614246, 0.09204997366143057, 0.6187848099467483, 0.03836745002699142, 0.9999149215982879, 0.32169211994130736, 0.6782923998094679, 0.9999183545657674, 0.9996797870100971, 0.7535606965002981, 0.24627426893484428, 0.7141874921621982, 0.285735088366113, 0.9996610422332579, 0.08238028021230492, 0.1359661991591804, 0.3839678577711454, 0.3976548635744437, 0.08314347402111247, 0.9168561176300758, 0.07068643722554042, 0.47480240216988195, 0.09078249326125341, 0.36372149134815623, 0.9998833404587505, 0.9996508838092125, 0.99994113019575, 0.9998315303436605, 0.9997754311441915, 0.9999072193466654, 0.9992706037031627, 0.8207194215633745, 0.1790509138874942, 0.9997529459733832, 0.9995516671818959, 0.09221392570604921, 0.6889752557620256, 0.21867140935857288, 0.9997336704976165, 0.8083085682104975, 0.19168124312924564, 0.261122136881288, 0.5640290224858528, 0.08031523352729546, 0.09450382421526175, 0.9999855870731252, 0.9997382455518238, 0.9997610373522119, 0.9998972513163391, 0.9999673327980253, 0.9998944868749885, 0.9999306120135139, 0.08422032558828838, 0.6715302587268585, 0.2152329422263177, 0.0290204977328319, 0.6293522812376238, 0.37061607441602856], "Term": ["absolute", "access", "access", "access", "accommodation", "accommodation", "accommodation", "accommodation", "adorable", "advise", "advise", "air", "airport", "airport", "amazing", "apartment", "apartment", "apartment", "apartment", "apartment", "area", "area", "area", "arrange", "arrival", "arrive", "ask", "ask", "ask", "attentive", "attentive", "attraction", "awesome", "awesome", "bag", "bakery", "bar", "bar", "bathroom", "beautiful", "beautiful", "beautiful", "bed", "bedroom", "big", "big", "big", "big", "bit", "bit", "blue", "bother", "breathtaking", "building", "building", "building", "bus", "cafe", "call", "call", "caring", "caring", "cat", "cat", "central", "central", "central", "central", "change", "check", "check", "check", "chill", "chill", "city", "city", "city", "clean", "clean", "clean", "clean", "clean", "cleanliness", "cleanliness", "climb", "close", "close", "close", "cold", "come", "come", "come", "come", "comfortable", "comfortable", "comfortable", "comfortable", "communication", "communication", "communication", "communication", "communication", "conditioner", "conditioning", "cooperative", "cooperative", "courteous", "courteous", "culture", "day", "day", "day", "day", "delightful", "distance", "downside", "dream", "early", "easy", "easy", "easy", "easy", "elevator", "employee", "employee", "energy", "enjoy", "enjoy", "environment", "environment", "excellent", "excellent", "excellent", "exceptional", "experience", "experience", "experience", "fabulous", "family", "family", "family", "family", "family", "fantastic", "fantastic", "feel", "feel", "ferry", "find", "find", "find", "find", "find", "first", "first", "first", "fix", "flat", "flat", "flight", "floor", "free", "friend", "friend", "friendly", "friendly", "friendly", "friendly", "gem", "gem", "generous", "get", "get", "get", "get", "give", "give", "give", "go", "go", "go", "go", "go", "good", "good", "good", "good", "good", "great", "great", "great", "great", "grocery", "ground", "hatice", "hear", "help", "help", "help", "help", "helpful", "helpful", "helpful", "helpful", "hesitation", "hesitation", "home", "hope", "hope", "hospitality", "hospitality", "host", "host", "host", "host", "hosting", "hosting", "hot", "hour", "house", "house", "house", "house", "incredible", "instruction", "interest", "interested", "interested", "interested", "internet", "island", "ismail", "ismail", "issue", "issue", "key", "kind", "kind", "kind", "kind", "kitchen", "kitchen", "large", "late", "leave", "let", "light", "like", "like", "like", "like", "like", "little", "little", "little", "living", "locate", "locate", "locate", "locate", "location", "location", "location", "location", "lot", "lot", "lot", "lot", "loud", "love", "lovely", "lovely", "machine", "main", "main", "make", "make", "mall", "many", "many", "many", "many", "market", "market", "memorable", "memory", "memory", "metro", "min", "minute", "minute", "narrow", "nature", "nature", "need", "need", "need", "need", "need", "neighbor", "neighborhood", "neighborhood", "neighborhood", "next", "next", "next", "nice", "nice", "nice", "nice", "night", "night", "night", "night", "noise", "noisy", "order", "outstanding", "owner", "owner", "owner", "parking", "peace", "peace", "people", "people", "people", "people", "people", "perfect", "perfect", "perfect", "performance", "person", "person", "person", "person", "photo", "photo", "photo", "pleased", "polite", "port", "price", "price", "price", "problem", "problem", "problem", "provide", "provide", "provide", "provide", "public", "question", "question", "question", "question", "quiet", "quiet", "quiet", "quiet", "ratio", "ratio", "recommend", "recommend", "recommend", "respectful", "respectful", "respond", "respond", "respond", "response", "response", "response", "responsive", "responsive", "responsive", "responsive", "responsive", "restaurant", "rooftop", "rooftop", "room", "room", "room", "satisfied", "satisfied", "send", "sheet", "shop", "shopping", "shower", "shower", "sight", "sincere", "sincere", "sleep", "small", "small", "small", "smell", "sofa", "sound", "spectacular", "spend", "spend", "spend", "square", "staff", "staff", "stair", "station", "steep", "stop", "stop", "store", "store", "street", "street", "stunning", "stunning", "subway", "sultanahmet", "summer", "sunset", "sunset", "supermarket", "sure", "sure", "take", "take", "take", "take", "taksim", "taxi", "taxi", "tea", "tell", "term", "term", "terrace", "terrace", "th", "thing", "thing", "thing", "thing", "tidy", "tidy", "time", "time", "time", "time", "tourist", "touristic", "towel", "train", "transfer", "transport", "treatment", "understanding", "understanding", "unforgettable", "unique", "value", "value", "value", "vibe", "view", "view", "visit", "visit", "visit", "visit", "walk", "walkable", "walking", "washing", "water", "wifi", "window", "wonderful", "wonderful", "wonderful", "wonderful", "work", "work"]}, "R": 30, "lambda.step": 0.01, "plot.opts": {"xlab": "PC1", "ylab": "PC2"}, "topic.order": [2, 4, 3, 5, 1]};

function LDAvis_load_lib(url, callback){
  var s = document.createElement('script');
  s.src = url;
  s.async = true;
  s.onreadystatechange = s.onload = callback;
  s.onerror = function(){console.warn("failed to load library " + url);};
  document.getElementsByTagName("head")[0].appendChild(s);
}

if(typeof(LDAvis) !== "undefined"){
   // already loaded: just create the visualization
   !function(LDAvis){
       new LDAvis("#" + "ldavis_el1791224036889359367321133059", ldavis_el1791224036889359367321133059_data);
   }(LDAvis);
}else if(typeof define === "function" && define.amd){
   // require.js is available: use it to load d3/LDAvis
   require.config({paths: {d3: "https://d3js.org/d3.v5"}});
   require(["d3"], function(d3){
      window.d3 = d3;
      LDAvis_load_lib("https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.4.0/pyLDAvis/js/ldavis.v3.0.0.js", function(){
        new LDAvis("#" + "ldavis_el1791224036889359367321133059", ldavis_el1791224036889359367321133059_data);
      });
    });
}else{
    // require.js not available: dynamically load d3 & LDAvis
    LDAvis_load_lib("https://d3js.org/d3.v5.js", function(){
         LDAvis_load_lib("https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.4.0/pyLDAvis/js/ldavis.v3.0.0.js", function(){
                 new LDAvis("#" + "ldavis_el1791224036889359367321133059", ldavis_el1791224036889359367321133059_data);
            })
         });
}
</script>
"""
    st.components.v1.html(string, width=1250, height=900, scrolling=True)

    st.write("")
    st.write("")
    st.write("#### The topics :arrow_heading_down:")
    st.write("")
    st.dataframe(data = topics, use_container_width=True, column_config={"0": "Topic No.", "1": "Tokens"})

    generate_response(response2.choices[0].message.content)


st.title("Turkey:grey['s] Positive :grey[Reviews]  :mosque:")
st.write("")
st.write("")

tab1, tab2 = st.tabs(["**BERT**", "**LDA**"])

with tab1:
   trPosBERT()

with tab2:
   trPosLDA()